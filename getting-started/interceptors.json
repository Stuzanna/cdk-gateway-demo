[
  {
    "cluster": "passthrough",
    "pluginName": "guard-create-project-topics",
    "pluginConfig": {
      "name": "guard-create-project-topics",
      "priority": 100,
      "pluginClass": "io.conduktor.gateway.interceptor.safeguard.CreateTopicPolicyPlugin",
      "config": {
        "numPartition": {
          "min": 3,
          "max": 6,
          "action": "BLOCK"
        },
        "namingConvention": {
          "value": "project-.*"
        },
        "replicationFactor": {
          "min": 2,
          "max": 3,
          "action": "OVERRIDE",
          "overrideValue": 2
        }
      }
    }
  },
  {
    "cluster": "passthrough",
    "username": "",
    "pluginName": "full-message-encrypt",
    "pluginConfig": {
      "name": "full-message-encrypt",
      "priority": 100,
      "pluginClass": "io.conduktor.gateway.interceptor.EncryptPlugin",
      "config": {
          "topic": ".*",
          "payload": {
            "keySecretId": "myKeySecretId",
            "algorithm": {
                "type": "AES_GCM",
                "kms": "IN_MEMORY"
            }
          }
      }
    }
  },
  {
    "cluster": "passthrough",
    "username": "",
    "pluginName": "full-message-decrypt",
    "pluginConfig":{
      "name": "full-message-decrypt",
      "priority": 100,
      "pluginClass": "io.conduktor.gateway.interceptor.DecryptPlugin",
      "config": {
         "topic": ".*"
      }
   }
  },
  {
    "cluster": "passthrough",
    "username": "",
    "pluginConfig":{
      "name": "mask-sensitive-fields",
      "priority": 100,
      "pluginClass": "io.conduktor.gateway.interceptor.FieldLevelDataMaskingPlugin",
      "config": {
        "topic": "\bcustomers\b",
        "schemaRegistryConfig": {
          "host": "http://redpanda-0:8081"
        },
        "policies": [
          {
            "name": "Mask credit card",
            "rule": {
              "type": "MASK_ALL"
            },
            "fields": [
              "profile.creditCardNumber",
              "contact.email"
            ]
          },
          {
            "name": "Partial mask phone",
            "rule": {
              "type": "MASK_FIRST_N",
              "maskingChar": "*",
              "numberOfChars": 9
            },
            "fields": [
              "contact.phone"
            ]
          }
        ]
      }
    }
  },
  {
    "cluster": "paris",
    "pluginName": "broken-broker",
    "pluginConfig": {
      "pluginClass": "io.conduktor.gateway.interceptor.chaos.SimulateBrokenBrokersPlugin",
      "priority": 100,
      "config": {
        "rateInPercent": 30,
        "errorMap": {
          "FETCH": "UNKNOWN_SERVER_ERROR",
          "PRODUCE": "CORRUPT_MESSAGE"
        }
      }
    },
    "username": "user-a"
  },
  {
    "cluster": "london",
    "pluginName": "duplicate-resource",
    "pluginConfig": {
      "pluginClass": "io.conduktor.gateway.interceptor.chaos.DuplicateResourcesPlugin",
      "priority": 100,
      "config": {
        "topic": "conduktorTopicDuplicate",
        "rateInPercent": 100
      }
    },
    "username": "user-b"
  }
]